@use "../base/vars_base" as *;

// set text colour based on the background
// --------------------------------------------------------------------------

@function setTextColor($c) {
    $color-brightness: round((red($c) * 299) + (green($c) * 587) + calc((blue($c) * 114) / 1000));
    $light-color: round((red(#ffffff) * 299) + (green(#ffffff) * 587) + calc((blue(#ffffff) * 114) / 1000));
    // if background is dark, then the text color should be light
    @if abs($color-brightness) < calc($light-color / 2) {
        //  if the base $text is already light, then use it.
        @if (lightness($text) > 55) {
            @return $text;
        } @else {
            @return hsl(0, 0%, 100%);
        }
    } @else {
        //  if the $text is light, then set it dark
        @if (lightness($text) > 55) {
            @return hsl(0, 0%, 0%);
        } @else {
            @return $text;
        }
    }
}

// --------------------------------------------------------------
// -- CONVERT COLOR TO RGBA --
// --------------------------------------------------------------
// will convert when passing in rgb, hex or hsl
//
// manually set a colour to convert
// background-color: convertToRgba(#e23465);
//
// optionally set the opacity
// background-color: convertToRgba(#e23465, 0.5);
//
// fetch a color from the color-map
// background-color: convertToRgba(map-get($color-map, 'blue'));

@function convertToRgba($color, $alpha: 1) {
    @return rgba(red($color), green($color), blue($color), $alpha);
}
