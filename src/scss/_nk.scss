@use "./base/vars_all" as *;
@use "./mixins/media" as *;

body {
    min-height: 100vh; // set height to push footer to the bottom
    display: flex;
    flex-direction: column;
}

#nk-header {
    background: $header-bg;
}

// This needs to be reviewed because it is too specific and causes problems
// for some layouts I have removed because of the QMH site but I am not sure
// what else it affects
// #nk-header,
// #nk-header > .#{$container-class} {
//     #search {
//         display: flex;
//         flex: 1 1 auto;

//         input {
//             width: 100%;
//             margin-right: 4px;
//         }

//         @include to-xl {
//             flex: 1 1 100%;
//             order: 3;
//         }
//     }
// }

#nk-main {
    flex: 1; // 1. allow to grow to fill height
    background-color: $main-bg;
    margin: 0;
}

#nk-footer {
    background-color: $footer-bg;
    margin-top: auto; // forces footer to the bottom
    color: #ccc;
}

.copyright {
    color: $copyright-text-color;
    background-color: $copyright-bg;
    padding: 0.5rem;
    text-align: center;
    font-size: 0.9rem;
    border: 0; // remove border from colour scheme
    width: 100%;
    margin-top: 0;
}

.logo a:hover {
    background: none;
}

// ==========================================================================
// -- NAYKEL ADMIN STYLES --
// ==========================================================================

.nk-admin {
    .navbar {
        background-image: linear-gradient(to right top, #20242a, #1e1f27, #1e1a23, #1f141d, #1f0e16, #250e15, #2c0e12, #310f0c, #40140e, #4e1a0e, #5c210c, #692906);
    }
}

// ==========================================================================
// -- BITS AND BOB'S --
// ==========================================================================

trix-editor {
    background: white !important;
    min-height: 100px !important;
}

.filepond {
    &--root {
        margin-bottom: 0 !important;
    }
    &--credits {
        display: none;
    }
}

// ==========================================================================
// -- MARKDOWN --
// ==========================================================================

.code-first-col,
.code-second-col,
.code-all-col {
    + table tbody {
        margin-top: $content-gap;
        font-size: 0.85em;
        tr td:first-child {
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            color: #f0506e;
            border-radius: 0.25rem;
        }
    }
}

.code-all-col {
    + table tbody {
        td {
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            color: #f0506e;
            border-radius: 0.25rem;
        }
    }
}

.markdown {
    // hack to remove indented when using @verbatim
    .-ml-2 pre code {
        margin-left: -2rem;
    }
    .-ml-3 pre code {
        margin-left: -3rem;
    }
    .-ml-4 pre code {
        margin-left: -4rem;
    }
    .-ml-5 pre code {
        margin-left: -5rem;
    }
    .-ml-7 pre code {
        margin-left: -7rem;
    }

    table {
        width: 100%; // DON'T CHANGE!!
    }

    // allow to work in markdown component with div
    pre {
        margin-top: $content-gap;
        margin-bottom: $content-gap;
    }

    h2::before {
        content: " ";
        display: block;
        width: 100%;
        margin-bottom: 2rem;
        height: 12px;
        background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg width='20px' height='12px' viewBox='0 0 20 12' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cg id='Artboard' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' stroke-linecap='square'%3e%3cpath d='M25,1 C20,1 20,11 15,11 C10,11 10,1 5,1 C0,1 0,11 -5,11 C-10,11 -10,1 -15,1' id='Line' stroke='%23CBD5DF' stroke-width='2'%3e%3c/path%3e%3c/g%3e%3c/svg%3e");
    }
}

// ==========================================================================
// -- Primary banner for page layouts --
// ==========================================================================
$banner-height: 450px !default;
$banner-bg: transparent !default;
$banner-text-bg: transparent !default;

.banner {
    background-repeat: no-repeat;
    background-position: right center;
    height: $banner-height;
    background-color: $banner-bg;

    // banner-text is the wrapper
    &-text {
        // color: white;
        background-color: $banner-text-bg;
        padding: 1rem;
    }
}
