@use '../maps_and_variables/components' as *;
@use '../maps_and_variables/value-maps' as *;
@use '../functions/color-functions' as *;
@use 'sass:map';

%box {
    background-color: $bx-bg;
    border: 1px solid var(--box-border-color);
    border-radius: var(--box-border-radius);
    box-shadow: map.get($shadow-map, sm);
    color: text-color($bx-bg);
    padding: $bx-padding;
}

.bx {
    @extend %box;

    // Remove top margin from first content child, but exclude structural
    // elements like headers/footers which have their own margin handling
    & > *:first-child:not(.bx-header, .bx-footer) {
        margin-block-start: 0;
    }

    &-title {
        font-size: var(--box-title-font-size);
        font-weight: var(--box-title-font-weight);
        line-height: var(--box-title-line-height);
    }
}

.bx-header,
.bx-footer {
    margin-inline: -$bx-padding;
    padding: 0.75rem var(--box-padding);
}

.bx-header {
    border-bottom: 1px solid var(--box-border-color);
    border-left: none;
    border-radius: var(--box-border-radius) var(--box-border-radius) 0 0;
    margin-block-start: -$bx-padding;
}

.bx-footer {
    // border-color: var(--box-border-color);
    border-radius: 0 0 var(--box-border-radius) var(--box-border-radius);
    border-top: 1px solid var(--box-border-color);
    margin-block-end: -$bx-padding;
}

:where(.bx-header + .bx-content) {
    margin-block-end: -$bx-padding;
    margin-inline: -$bx-padding;
    padding: $bx-padding;
}
